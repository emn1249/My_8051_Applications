SEG_ON EQU P1.6
KEY_COD EQU 01010101B

T0_G EQU 0
T0_C EQU 0
T0_M EQU 0
TIM0 EQU T0_M+T0_C*4+T0_G*8

T1_G EQU 0
T1_C EQU 1
T1_M EQU 0
TIM1 EQU T1_M+T1_C*4+T1_G*8

TMOD_SET EQU TIM0+TIM1*16
TL1_SET EQU 0


	LJMP START
	ORG 100H
START:

	MOV R2,#10
	MOV TMOD ,#0110_0000 ;8BIT TIMER
	MOV TL1,#TL1_SET
	SETB TR1
		
	MOV R0,#CSDS
	MOV A,#KEY_COD
	MOVX @R0,A
	
	MOV R0,#CSDB
	CLR SEG_ON
	
LOOP:
	MOV A,TL1
	DEC R2
	MOV A,R2

	MOVX @R0,A
	DEC R2
	MOV A,R2
	JNZ LOOP

	
	

	

	LJMP START
	NOP
	
	
	